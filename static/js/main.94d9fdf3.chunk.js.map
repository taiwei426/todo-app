{"version":3,"sources":["apis/todos.js","actions/index.js","components/ToDoCheckmark.js","components/ToDoItem.js","components/ToDoForm.js","components/ToDoEdit.js","components/ToDoList.js","components/ToDoCreate.js","components/App.js","reducers/index.js","index.js"],"names":["axios","create","baseURL","deleteToDo","id","dispatch","a","todos","delete","console","log","type","payload","getToDo","todoItem","deselectActiveToDo","ToDoCheckmark","onCheck","itemId","input","value","props","renderCheckMark","formProps","Field","name","this","component","item","React","Component","connect","reduxForm","form","enableReinitialize","ToDoItem","onEditClick","itemProps","onClick","e","stopPropagation","style","display","state","activeToDo","ToDoForm","renderInput","autoComplete","autoFocus","meta","error","formOnChangeSubmit","formValues","formOnSubmit","onKeyPress","event","arrowsKeyPress","initialize","initialValues","onBlur","setTimeout","handleSubmit","onSubmit","onKeyDown","onChange","validate","Object","values","ToDoEdit","editToDo","getNextItem","forEach","el","nextItemIndex","indexOf","length","keyCode","handleKeyDown","bind","patch","response","data","ToDoList","getToDos","map","key","get","ToDoCreate","onFormSubmit","createToDo","then","reset","post","App","minHeight","combineReducers","action","_","mapKeys","omit","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.94d9fdf3.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport default axios.create({\n    // baseURL : 'http://localhost:3001'\n    baseURL: 'https://vivianzhang-todo-app-api.herokuapp.com'\n})","import todos from '../apis/todos'\n\n\nexport const createToDo = (formValues) => async (dispatch) => {\n    const response = await todos.post('/todos', formValues);\n    dispatch({\n        type: 'TODO_CREATE', \n        payload: response.data\n    },\n    // reset('to-dos')\n    )\n}\n\n\nexport const getToDos = () => async (dispatch) => {\n    const response = await todos.get('/todos')\n    dispatch({\n        type: 'TODOS_GET', \n        payload: response.data\n    });   \n}\n\nexport const editToDo = (id, formValues) => async (dispatch) => {\n    const response = await todos.patch(`/todos/${id}`, formValues)\n    dispatch({\n        type: 'TODOS_EDIT', \n        payload: response.data\n    });   \n}\n\nexport const deleteToDo = (id) => async (dispatch) => {\n    await todos.delete(`/todos/${id}`);\n    console.log(`deleting id: ${id}`)\n    dispatch({\n        type: 'TODO_DELETE', \n        payload: id\n    })\n}\n\nexport const getToDo = (todoItem) => {\n    return {\n        type: 'TODO_GET', \n        payload: todoItem\n    }\n}\n\nexport const deselectActiveToDo = () => {\n    return{\n        type: 'DESELECT_ACTIVE_TODO', \n    }\n}\n\n\n/// put needs its own URL (so i needed the id) but json server creates its own id\n// export const createToDo = (formValues) => async (dispatch) => {\n//     const response = await todos.put(`/todos/${id}`, formValues);\n//     dispatch({\n//         type: 'TODO_CREATE', \n//         payload: response.data\n//     })\n// }\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {deleteToDo} from '../actions'\nimport {Field, reduxForm} from 'redux-form'\n\nclass ToDoCheckmark extends React.Component{\n    onCheck = ({itemId, input}) => {\n        if(input.value){\n            this.props.deleteToDo(itemId);\n        }\n    }\n    renderCheckMark = (formProps) => {\n        this.onCheck(formProps);\n        return (\n            <input {...formProps.input} type =\"checkbox\" value=\"false\"></input> \n        )\n    }\n    render(){\n        return (\n            \n            <Field \n                name = {this.props.name} \n                component = {this.renderCheckMark} \n                item = {this.props.item} \n                itemId = {this.props.itemId}/>\n        )\n    }\n}\n\nToDoCheckmark = connect(null, {deleteToDo})(ToDoCheckmark);\n\nexport default reduxForm({\n    form: 'items', \n    enableReinitialize : true,\n})(ToDoCheckmark)","import React from 'react'\nimport {connect} from 'react-redux'\n\nimport {deleteToDo, getToDo} from '../actions'\nimport ToDoCheckmark from './ToDoCheckmark'\n\nclass ToDoItem extends React.Component{\n    onEditClick = (formProps) => {\n        this.props.getToDo(formProps);      \n    }\n    render(){\n        const {id, input} = this.props.itemProps\n        return(\n            <form id = {id}>\n                <div onClick={(e) => e.stopPropagation()} style={{display: `inline-block`}}>\n\n                    <ToDoCheckmark name = {input}  item = {input} \n                    itemId = {id}/>\n\n                    <span  onClick = {() => this.onEditClick(this.props.itemProps)} >{input}</span> \n                </div>\n            </form>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeToDo : state.activeToDo\n    }\n}\n\nexport default connect(mapStateToProps, {deleteToDo, getToDo})(ToDoItem);\n\n\n\n// is it bad that there's state being saved here when we have redux already?\n// i think before, state was on the full form, not each of the items, so inputFieldShown was for all of the items, instead of having one per item\n// deleting numbers was a problem - prob bc they all shared the same form. now each checkmark is its own form\n// why does the click to show edit input work when console.logging doesn't log true/false like how it'd expect?\n// when state changes, not all of the related functions are rerendered\n// deleting >1 of the same thing will delete all of them, even though they have different ids","import React from 'react'\nimport {Field, reduxForm} from 'redux-form'\nimport {connect} from 'react-redux'\n\nimport {deselectActiveToDo, getToDo} from '../actions'\n\nclass ToDoForm extends React.Component{\n    componentDidMount(){\n        this.props.initialize(this.props.initialValues);\n    }\n    renderInput = (formProps) => {\n        console.log(formProps)\n        return( \n            <div>\n                <input {...formProps.input} autoComplete=\"off\" autoFocus ></input>\n                {formProps.meta.error}\n            </div>\n        )\n    }\n    formOnChangeSubmit = (formValues) => {\n        this.props.formOnChangeSubmit(formValues)\n    }\n    formOnSubmit = (formValues, dispatch) => {\n        this.props.formOnSubmit(formValues, dispatch)\n    }\n    onKeyPress = (event) => {\n        this.props.arrowsKeyPress(event);\n    }\n    render(){\n        return(\n            <form \n                onBlur = { () => setTimeout(this.props.handleSubmit(this.formOnSubmit))} \n                onSubmit={this.props.handleSubmit(this.formOnSubmit)} \n                onKeyDown = {this.onKeyPress}\n                onChange = { () => setTimeout(this.props.handleSubmit(this.formOnChangeSubmit))} \n                style={{display: `inline-block`}}\n                > \n                    <div onClick={(e) => e.stopPropagation()} style={{display: `inline-block`}}>\n                        <Field name=\"input\" component={this.renderInput} ></Field>\n                    </div>\n            </form>\n        )\n    }\n}\n\nconst validate = (formValues) => {\n    const error = {};\n    if(!formValues.input){\n        error.input = ' '\n    }\n    return error;\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        initialValues :  {input: state.activeToDo.input}, \n        activeToDo : state.activeToDo,\n        todos: Object.values(state.todos)\n    }\n}\n\n\n\nToDoForm = reduxForm({\n    form: 'create-todo', \n    enableReinitialize : true,\n    validate: validate\n})(ToDoForm);\n\nexport default connect( mapStateToProps, {deselectActiveToDo, getToDo} )(ToDoForm)\n\n// export default ToDoForm;\n\n\n// form's getting cleared before post response has been resolved\n// dispatch(reset('to-dos')) \n// this.props.reset();\n\n// what does settimeout do? and why pass it as another function?\n\n// onClickOut = (meta) => {\n//     if(meta.active === false && meta.touched === true){\n//         // this.formSubmit();\n//         (this.props.handleSubmit(this.formSubmit))(); // Cannot update a component (`ConnectFunction`) while rendering a different component (`Unknown`).\n//     }\n// }","import React from 'react';\nimport {connect} from 'react-redux'\nimport {Field, reduxForm} from 'redux-form'\n\nimport ToDoForm from './ToDoForm'\nimport ToDoCheckmark from './ToDoCheckmark'\n\nimport {editToDo, deselectActiveToDo, getToDo} from '../actions'\n\nclass ToDoEdit extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleKeyDown = this.arrowsKeyPress.bind(this)\n    }\n    formOnChangeSubmit = (formValues) => {\n        this.props.editToDo(this.props.activeToDo.id, formValues)\n    }\n    getNextItem = (event) => {\n        this.props.todos.forEach( el => {\n            if(el.id === this.props.activeToDo.id){\n                var nextItemIndex = -1;\n                if(event === 'enter' || event === 40 || event === 9){\n                    nextItemIndex = this.props.todos.indexOf(el) + 1;\n                } else if (event === 38){\n                    nextItemIndex = this.props.todos.indexOf(el) - 1;\n                }\n                if(nextItemIndex === this.props.todos.length){\n                    this.props.deselectActiveToDo();\n                }else if(nextItemIndex === -1){\n                    return null //is this allowed?\n                }else{\n                    this.props.getToDo(this.props.todos[nextItemIndex])\n                }\n            }\n        })\n    }\n    formOnSubmit = () => {\n       this.getNextItem('enter');\n       \n    }\n    arrowsKeyPress = (event) => {\n        if(event.keyCode === 38){\n            this.getNextItem(38);\n        }else if(event.keyCode === 40){\n            this.getNextItem(40);\n        }else if(event.keyCode === 9){\n            // this.getNextItem(9);\n        }\n    }\n    render(){\n        console.log('still looking for error')\n        const {id, input} = this.props.itemProps\n        return (\n            <div>\n                asdf\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeToDo : state.activeToDo,\n        todos: Object.values(state.todos)\n    }\n}\n\nexport default connect(mapStateToProps, {editToDo, deselectActiveToDo, getToDo})(ToDoEdit);\n\n\n\n// onClick={(e) => e.stopPropagation()}\n\n// can set initial states on the form itself or where it's getting called. in this case, we have to set it on the form itself (i think) bc of this.props.initialize(this.props.initialValues) in componentDidMount\n// // <ToDoForm id={this.props.itemProps.id} formSubmit = {this.formSubmit} initialValues={this.props.initialValues}/>\n// const mapStateToProps = (state) => {\n//     return {\n//         initialValues : {input: state.activeToDo}\n//     }\n// }","import React from 'react';\nimport {connect} from 'react-redux'\n\n\nimport ToDoItem from './ToDoItem'\nimport {getToDos} from '../actions'\nimport ToDoEdit from './ToDoEdit'\n\nclass ToDoList extends React.Component{\n    componentDidMount(){\n        this.props.getToDos();\n    }\n    render(){\n        if(!this.props.todos){\n            return <div>loading...</div>\n        }\n        return this.props.todos.map( (el) => {\n            if(el.id === this.props.activeToDo.id){\n                return <ToDoEdit itemProps={el}  key = {el.id}/>\n            } else {\n                return <ToDoItem itemProps={el}  key = {el.id}/>\n            }\n        })\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        todos : Object.values(state.todos), \n        activeToDo : state.activeToDo\n    }\n}\n\nexport default connect(mapStateToProps, {getToDos})(ToDoList);\n\n\n\n\n// TO DO\n// when checkboxing numbers at the beginning, will throw error\n// when 2 items have the same input, will delete both\n\n// need to spread the formProps.input onto input in order to get onChange, etc props \n\n\n// this.itemRef was only for the last item\n// componentDidMount(){\n//    this.itemRef = React.createRef(); \n// }\n{/* <div id = {formProps.itemId} ref={this.itemRef}> */}\n\n\n//forgot e.target\n","import React from 'react';\nimport {connect} from 'react-redux'\nimport {reset} from 'redux-form'\n\nimport ToDoForm from './ToDoForm'\nimport {createToDo, getToDo} from '../actions'\n\nclass ToDoCreate extends React.Component{\n    formOnChangeSubmit = () => {\n        return null\n        // is this the right way to do this?\n    }\n    onFormSubmit = (formValues, dispatch) => {\n        this.props.createToDo(formValues).then( () => dispatch(reset('create-todo')) )\n    }\n    arrowsKeyPress = (event) => {\n        // up arrow\n        if(event.keyCode === 38){\n            const nextItemIndex = this.props.todos.length - 1;\n            this.props.getToDo(this.props.todos[nextItemIndex])\n        }\n    }\n    render(){\n        if (this.props.activeToDo.id ){\n            return <input></input>\n            \n        } else {\n            return (\n                <div style={{display: `block`}}>\n                    <ToDoForm \n                        formOnSubmit = {this.onFormSubmit} \n                        formOnChangeSubmit = {this.formOnChangeSubmit} \n                        arrowsKeyPress = {this.arrowsKeyPress}\n                        />\n                    </div>\n            )\n        }\n        \n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        activeToDo : state.activeToDo, \n        todos: Object.values(state.todos)\n    }\n}\n\nexport default connect(mapStateToProps, {createToDo, getToDo})(ToDoCreate);\n\n////\n// i think dispatch is a redux thing\n// this.props.createToDo(formValues).then( () => dispatch(reset('create-todo')) ); ////!!!!!!!!!","import React from 'react'\nimport {connect} from 'react-redux'\n\nimport ToDoList from './ToDoList'\nimport ToDoCreate from './ToDoCreate'\n\nimport {deselectActiveToDo} from '../actions'\n\nclass App extends React.Component{\n    render(){\n        return(\n            <div onClick ={() => this.props.deselectActiveToDo()} style={{minHeight: '100vh'}}>\n                <h3>To Do</h3>\n                <ToDoList />\n                <ToDoCreate />\n            </div>\n        )\n    }\n}\n\n\n\nexport default connect(null, {deselectActiveToDo})(App);","import _ from 'lodash'\n\nimport {combineReducers} from 'redux';\nimport {reducer as formReducer} from 'redux-form'\n\nconst todoReducer = (state={}, action) => {\n    switch(action.type){\n        case 'TODO_CREATE':\n            return {...state, [action.payload.id] : action.payload}\n        case 'TODOS_GET':\n            return {...state, ..._.mapKeys(action.payload, 'id')}\n        case 'TODO_DELETE':\n            return  _.omit(state, action.payload)\n        case 'TODOS_EDIT':\n            return {...state, [action.payload.id] : action.payload}\n        default:\n            return state\n    }\n}\n\nconst activeToDoReducer = (state = {}, action) => {\n    switch(action.type){\n        case 'TODO_GET':\n            return {id: action.payload.id, input : action.payload.input}\n        case 'DESELECT_ACTIVE_TODO':\n            return {}\n        default: \n            return state\n    }\n}\n\nexport default combineReducers({\n    todos: todoReducer, \n    activeToDo: activeToDoReducer,\n    form: formReducer\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport {createStore, applyMiddleware, compose} from'redux'\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App'\nimport reducer from './reducers'\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // dev tool to see the store\n\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(reduxThunk)))\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/> \n    </Provider>,\n    document.querySelector('#root')\n)"],"sourceRoot":""}